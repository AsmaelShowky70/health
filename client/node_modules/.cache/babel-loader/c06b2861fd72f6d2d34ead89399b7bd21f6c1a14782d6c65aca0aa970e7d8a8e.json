{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asmael\\\\Desktop\\\\health\\\\client\\\\src\\\\admin\\\\AdminConsultations.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { adminService, consultationsService } from '../services/api';\nimport './AdminPages.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminConsultations() {\n  _s();\n  const [consultations, setConsultations] = useState([]);\n  const [selectedId, setSelectedId] = useState(null);\n  const [reply, setReply] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    fetchConsultations();\n  }, []);\n  const fetchConsultations = async () => {\n    try {\n      const response = await adminService.getPendingConsultations();\n      setConsultations(response.data);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const handleReply = async id => {\n    if (!reply.trim()) {\n      alert('يرجى كتابة الرد');\n      return;\n    }\n    setLoading(true);\n    try {\n      await consultationsService.reply(id, {\n        reply\n      });\n      setReply('');\n      setSelectedId(null);\n      fetchConsultations();\n    } catch (err) {\n      alert('خطأ في إرسال الرد');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0627\\u0644\\u0627\\u0633\\u062A\\u0634\\u0627\\u0631\\u0627\\u062A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"items-list\",\n        children: consultations.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty\",\n          children: \"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0627\\u0633\\u062A\\u0634\\u0627\\u0631\\u0627\\u062A \\u0645\\u0639\\u0644\\u0642\\u0629\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this) : consultations.map(consultation => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: consultation.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u0645\\u0633\\u062A\\u062E\\u062F\\u0645:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), \" \", consultation.full_name, \" (\", consultation.email, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u0648\\u0635\\u0641:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this), \" \", consultation.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge status-${consultation.status}`,\n                children: consultation.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 37\n            }, this), selectedId === consultation.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reply-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                value: reply,\n                onChange: e => setReply(e.target.value),\n                placeholder: \"\\u0627\\u0643\\u062A\\u0628 \\u0627\\u0644\\u0631\\u062F...\",\n                rows: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => handleReply(consultation.id),\n                disabled: loading,\n                children: loading ? 'جاري الإرسال...' : 'إرسال الرد'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 33\n          }, this), selectedId !== consultation.id && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => setSelectedId(consultation.id),\n            children: \"\\u0631\\u062F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 37\n          }, this)]\n        }, consultation.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminConsultations, \"SBw32nczivKyCqFdXMbaQ7Olpig=\");\n_c = AdminConsultations;\nexport default AdminConsultations;\nvar _c;\n$RefreshReg$(_c, \"AdminConsultations\");","map":{"version":3,"names":["React","useState","useEffect","adminService","consultationsService","jsxDEV","_jsxDEV","AdminConsultations","_s","consultations","setConsultations","selectedId","setSelectedId","reply","setReply","loading","setLoading","fetchConsultations","response","getPendingConsultations","data","err","console","error","handleReply","id","trim","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","consultation","title","full_name","email","description","status","value","onChange","e","target","placeholder","rows","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Asmael/Desktop/health/client/src/admin/AdminConsultations.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { adminService, consultationsService } from '../services/api';\r\nimport './AdminPages.css';\r\n\r\nfunction AdminConsultations() {\r\n    const [consultations, setConsultations] = useState([]);\r\n    const [selectedId, setSelectedId] = useState(null);\r\n    const [reply, setReply] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchConsultations();\r\n    }, []);\r\n\r\n    const fetchConsultations = async () => {\r\n        try {\r\n            const response = await adminService.getPendingConsultations();\r\n            setConsultations(response.data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const handleReply = async (id) => {\r\n        if (!reply.trim()) {\r\n            alert('يرجى كتابة الرد');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            await consultationsService.reply(id, { reply });\r\n            setReply('');\r\n            setSelectedId(null);\r\n            fetchConsultations();\r\n        } catch (err) {\r\n            alert('خطأ في إرسال الرد');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"admin-page\">\r\n            <div className=\"container\">\r\n                <h1 className=\"page-title\">إدارة الاستشارات</h1>\r\n\r\n                <div className=\"items-list\">\r\n                    {consultations.length === 0 ? (\r\n                        <p className=\"empty\">لا توجد استشارات معلقة</p>\r\n                    ) : (\r\n                        consultations.map(consultation => (\r\n                            <div key={consultation.id} className=\"item-card\">\r\n                                <div className=\"item-info\">\r\n                                    <h3>{consultation.title}</h3>\r\n                                    <p>\r\n                                        <strong>المستخدم:</strong> {consultation.full_name} ({consultation.email})\r\n                                    </p>\r\n                                    <p>\r\n                                        <strong>الوصف:</strong> {consultation.description}\r\n                                    </p>\r\n                                    <p>\r\n                                        <strong>الحالة:</strong>\r\n                                        <span\r\n                                            className={`status-badge status-${consultation.status}`}\r\n                                        >\r\n                                            {consultation.status}\r\n                                        </span>\r\n                                    </p>\r\n\r\n                                    {selectedId === consultation.id && (\r\n                                        <div className=\"reply-form\">\r\n                                            <textarea\r\n                                                value={reply}\r\n                                                onChange={(e) => setReply(e.target.value)}\r\n                                                placeholder=\"اكتب الرد...\"\r\n                                                rows=\"4\"\r\n                                            />\r\n                                            <button\r\n                                                className=\"btn\"\r\n                                                onClick={() => handleReply(consultation.id)}\r\n                                                disabled={loading}\r\n                                            >\r\n                                                {loading ? 'جاري الإرسال...' : 'إرسال الرد'}\r\n                                            </button>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {selectedId !== consultation.id && (\r\n                                    <button\r\n                                        className=\"btn\"\r\n                                        onClick={() => setSelectedId(consultation.id)}\r\n                                    >\r\n                                        رد\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminConsultations;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}